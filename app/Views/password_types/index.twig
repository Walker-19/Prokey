{% extends "layout/main.twig" %}

{% block content %}
<section class="p-8 max-w-6xl mx-auto">
  <div class="mb-8 flex justify-between items-center">
    <div>
      <h2 class="text-4xl font-bold text-gray-800">Liste des types de mot de passe</h2>
      <p class="text-gray-600 mt-2">Gérez vos types de mots de passe et leurs champs</p>
    </div>
    <a href="{{ url('/password-types/create') }}" 
       class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition inline-flex items-center gap-2">
      <i class="mdi mdi-plus"></i> Créer un type
    </a>
  </div>

  {% if password_types is empty %}
    <div class="bg-gray-100 border border-gray-300 rounded-lg p-6 text-center">
      <i class="mdi mdi-lock-multiple text-gray-400 text-4xl block mb-2"></i>
      <p class="text-gray-600 mb-4">Aucun type de mot de passe n'a encore été créé.</p>
      <a href="{{ url('/password-types/create') }}" class="text-blue-600 hover:underline">
        Créer le premier type
      </a>
    </div>
  {% else %}
    <div class="bg-white rounded-lg shadow overflow-hidden">
      <table class="w-full">
        <thead>
          <tr class="bg-gray-100 border-b border-gray-300">
            <th class="text-left p-4 font-semibold text-gray-700"><i class="mdi mdi-label-multiple"></i> Nom du type</th>
            <th class="text-left p-4 font-semibold text-gray-700"><i class="mdi mdi-palette"></i> Couleur</th>
            <th class="text-left p-4 font-semibold text-gray-700"><i class="mdi mdi-cog"></i> Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for password_type in password_types %}
            <tr class="border-b border-gray-200 hover:bg-gray-50 transition">
              <td class="p-4 font-semibold text-gray-800">{{ password_type.label }}</td>
              <td class="p-4">
                <span class="inline-block px-4 py-2 rounded-lg text-white font-medium"
                      style="background-color: {{ password_type.color }};">
                  {{ password_type.color }}
                </span>
              </td>
          <td class="py-2 px-4 space-x-3">
            <a href="{{ url('/password-types/' ~ password_type.id ~ '/show') }}" 
               class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded text-sm transition inline-flex items-center gap-1">
              <i class="mdi mdi-eye"></i> Visualiser
            </a>
            <a href="{{ url('/password-types/' ~ password_type.id ~ '/edit') }}" 
               class="bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-2 rounded text-sm transition inline-flex items-center gap-1">
              <i class="mdi mdi-pencil"></i> Modifier
            </a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
    </div>
  {% endif %}
</section>
{% endblock %}
